- 단위 테스트(unit test)는 단순히 테스트를 작성하는것보다 더 큰 범주다??
- 단위 테스트를 작성할 때 노력 대비 최대의 이익을 얻으려고 노력하라는데 구체적인 방법은 아직 모름.

### 단위 테스트 현황
- 테스트가 있어도 개발자들이 원하는 결과를 얻지 못하는 경우가 많다고 함.

### 단위 테스트의 목표
- 단위 테스트를 작성하면 더 나은 설계로 이어진다?
  - 코드를 단위 테스트하기 어렵다면 `tight coupling(강결합)`이 있고 개선이 필요함을 암시, 강결합은 쉽게 코드 품질을 떨어뜨리기 때문. 
- **단위 테스트의 목표는 `프로젝트의 지속 가능한 성장`을 가능하게 하는 거라고 함..**
  - `software entropy`
    - 개발 속도가 빠르게 감소하는 현상. 
    - 어느정도 공감됨. 변경할 때 불안함. 더 오래걸리기도 하는듯.
  - 단위 테스트 작성을 통해 소프트웨어 엔트로피를 줄여 `장기적으로 개발 속도를 유지`할 수 있다고 함.

- 좋은 테스트 기준
  - 단위 테스트가 프로젝트 성장에 도움이 되지만, 테스트 작성만으로는 충분하지 않다??
  - 모든 테스트를 작성할 필요는 없다?
    - 테스트의 가치와 유지 비용도 고려해야 함. `고품질 테스트`만 남기라고 함..
    - `코드는 곧 잠재적인 버그`이므로 단위 테스트도 남발하면 안 좋다고 함. 

### coverage metrics
- 커버리지 지표는 테스트 모음(suite)이 소스 코드를 얼마나 실행하는지?에 대한 백분율이라고 함.
- 높은 커버리지의 suite라도 품질이 떨어지면 안좋은거라고 함.
- `code coverage`(test coverage) = 제품 코드? 라인 수 / 전체 라인 수
  - 테스트가 실행하는 라인 수라는데 정확히 이해 안됨.
- `branch coverage` = 통과 제어문 / 전체 제어문 수
  - 분기 개수만 봄.

- 커버리지 지표의 한계
  1. 커버지리 지표는 기반 코드를 모두 테스트했다고 볼 수 없다고 함. 일부가 실행된 것만 보장.
  2. 외부 라이브러리의 코드 경로를 고려할 수 없음. 외부 라이브러리의 숨겨진 코드 경로

- 커버리지 숫자를 목표로 삼으면 위험해질 수 있다고 함. 

  환자를 치료할 때 체온을 목표로 해서는 안됨에 비유. 치료가 아니라 진짜 체온만 바꾸게 될 수도 있음. (인공적인 목표)

  즉, 단위테스트의 목적을 잊게 될 수 있다고 함.

  커버리지 지표를 측정하는 것은 좋은 품질의 테스트 suite로 가는 첫걸음 정도일 뿐이라고 함!

### 성공적인 테스트 suite 만드는법
1. 개발 주기에 통합돼 있다?
   - 테스트 자주 하고, `코드가 변경될 때마다 작은 테스트라도 실행`하는게 좋다고 함.
2. 가장 중요한 부분만 테스트 대상으로 하기
    - `가장 중요한 부분이 어디?`
    - 일반적으로 초점을 `도메인 모델`에 두라고 함!
    - 인프라 코드에 복잡한 알고리즘이 있으면 거기도 테스트 많이 하면 좋다고 함.
3. 가성비
   - 가치가 유지비보다 높은 테스트만 유지하는게 좋다고 함.
   - 가치있는 테스트 식별하기/가치있는 테스트 작성하기 (좋은 곡을 식별하기/작곡하기에 비유)
   - 가치있는 테스트를 식별하려면 `기준틀`이 필요하고, 가치있는 테스트를 작성하려면 기존 코드의 설계에 대해서도 알아야 함.

### 이 책을 통해 배우는 것
- 테스트를 분석하는데 사용하는 기준틀?을 알려준다고 함.
- 단위 테스트 기법, 좋은 사례






